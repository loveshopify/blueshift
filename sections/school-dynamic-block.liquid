{%- assign onboarding = true -%}

{%- if section.settings.blog != blank -%}
  {%- assign onboarding = false -%}
{%- endif -%}

<script
  type="application/json"
  data-section-type="dynamic-blog-posts"
  data-section-id="{{ section.id }}"
  data-section-data>
  {
    "onboarding": {{ onboarding | json }}
  }
</script>

{%- if section.settings.title != blank -%}
  <h4 class="section-title">
    {{ section.settings.title | escape }}
  </h4>
{%- endif -%}

<div class="block-excerpts" data-block-excerpts>
  <div class="block-excerpt-masonry-item-sizer" data-block-excerpt-masonry-item-sizer></div>
  <div class="block-excerpt-masonry-gutter-sizer" data-block-excerpt-masonry-gutter-sizer></div>
    {%- for block in section.blocks limit: 4 -%}
      {%- include 'block-section', block: block -%}
    {%- endfor -%}
</div>

{% schema %}
{
  "name": "School Blocks",
  "class": "section-block",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Heading",
      "default": "Blog posts"
    }
  ],
  "blocks": [
    {
      "type": "select",
      "name": "Add Image",
      "settings": [
		{
          "id": "image",
          "type": "image_picker",
          "label": "Image"
        },
		{
          "id": "title",
          "type": "text",
          "label": "Title",
          "default": "Title"
        },
		{
          "id": "text",
          "type": "textarea",
          "label": "content",
          "default": "Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Donec velit neque, auctor sit amet aliquam vel, ullamcorper sit amet ligula."
        },
        {
          "id": "url",
          "type": "url",
       	  "label": "Button link"
        },
        {
          "id": "linktext",
          "type": "text",
          "label": "Button text",
          "default": "Click here"
        }
      ]
    }
  ],
  "presets": [
    {
      "category": "Image",
      "name": "Big image with text and link"
    }
  ]
}

{% endschema %}
